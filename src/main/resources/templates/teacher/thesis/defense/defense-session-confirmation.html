<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Schedule Thesis Defense - Confirmation</title>
  <link rel="stylesheet" th:href="@{/css/fragments/fragments.css}" />
  <link rel="stylesheet" th:href="@{/css/teacher/thesis/defense/confirmation.css}" />
</head>
<body>
<div th:replace="fragments/teacher-header :: teacherHeader(${teacher})"></div>

<div class="container">
  <div th:replace="fragments/teacher-sidebar :: sidebar('thesesDefence')"></div>

  <main class="schedule-container">
    <h2>Step 3: Confirm Defense Details</h2>

    <section class="summary">
      <h3>Defense Date:</h3>
      <p th:text="${defense.defenseDate}"></p>

      <h3>Committee Members:</h3>
      <ul>
        <li th:each="teacherName : ${defense.committeeNames}" th:text="${teacherName}"></li>
      </ul>

      <h3>Students Defending:</h3>
      <ul>
        <li th:each="studentName : ${defense.studentNames}" th:text="${studentName}"></li>
      </ul>
    </section>

    <form th:action="@{/teacher/defense/schedule/confirm}" method="post" th:object="${defense}">

      <input type="hidden" th:field="*{defenseDate}" />

      <div th:each="id, iterStat : *{committeeIds}">
        <input type="hidden" th:name="'committeeIds[' + ${iterStat.index} + ']'" th:value="${id}" />
      </div>

      <div th:each="id, iterStat : *{studentIds}">
        <input type="hidden" th:name="'studentIds[' + ${iterStat.index} + ']'" th:value="${id}" />
      </div>

      <div th:each="name, iterStat : *{committeeNames}">
        <input type="hidden" th:name="'committeeNames[' + ${iterStat.index} + ']'" th:value="${name}" />
      </div>

      <div th:each="name, iterStat : *{studentNames}">
        <input type="hidden" th:name="'studentNames[' + ${iterStat.index} + ']'" th:value="${name}" />
      </div>

      <button type="submit" class="btn-primary">Confirm and Schedule Defense</button>
    </form>

  </main>
</div>



</body>
</html>
